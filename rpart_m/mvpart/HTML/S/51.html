<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>man/rpart.Rd</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-5.9.3' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<a id='TOP' name='TOP' /><h2 class='header'><a href='../mains.html'>root</a>/<a href='../files/151.html'>man</a>/rpart.Rd</h2>
<em class='comment'>/* <img class='icon' src='../icons/n_left.png' alt='[previous]' /><img class='icon' src='../icons/n_right.png' alt='[next]' /><img class='icon' src='../icons/n_first.png' alt='[first]' /><img class='icon' src='../icons/n_last.png' alt='[last]' /><img class='icon' src='../icons/n_top.png' alt='[top]' /><a href='#BOTTOM'><img class='icon' src='../icons/bottom.png' alt='[bottom]' /></a><a href='../mains.html'><img class='icon' src='../icons/index.png' alt='[index]' /></a><a href='../help.html'><img class='icon' src='../icons/help.png' alt='[help]' /></a>&nbsp;<em class='position'>[+1 man/rpart.Rd]</em> */</em>
<hr />
<pre>
<a id='L1' name='L1' />\name{rpart}
<a id='L2' name='L2' />\alias{rpart}
<a id='L3' name='L3' />\alias{rpartcallback}
<a id='L4' name='L4' />\title{
<a id='L5' name='L5' />Recursive Partitioning and Regression Trees
<a id='L6' name='L6' />}
<a id='L7' name='L7' />\description{
<a id='L8' name='L8' />Fit a \code{rpart} model
<a id='L9' name='L9' />}
<a id='L10' name='L10' />\usage{
<a id='L11' name='L11' />rpart(formula, data=NULL, weights, subset, na.action=na.rpart, method,
<a id='L12' name='L12' />      dissim, model=FALSE, x=FALSE, y=TRUE, parms, control, cost, \dots)
<a id='L13' name='L13' />}
<a id='L14' name='L14' />\arguments{
<a id='L15' name='L15' />\item{formula}{
<a id='L16' name='L16' />a formula, as in the \code{lm} function.
<a id='L17' name='L17' />}
<a id='L18' name='L18' />\item{data}{
<a id='L19' name='L19' />an optional data frame in which to interpret the variables named in the
<a id='L20' name='L20' />formula
<a id='L21' name='L21' />}
<a id='L22' name='L22' />\item{weights}{
<a id='L23' name='L23' />optional case weights.
<a id='L24' name='L24' />}
<a id='L25' name='L25' />\item{subset}{
<a id='L26' name='L26' />optional expression saying that only a subset of the rows of the data
<a id='L27' name='L27' />should be used in the fit.
<a id='L28' name='L28' />}
<a id='L29' name='L29' />\item{na.action}{
<a id='L30' name='L30' />The default action deletes all observations for which \code{y} is missing,
<a id='L31' name='L31' />but keeps those in which one or more predictors are missing.
<a id='L32' name='L32' />}
<a id='L33' name='L33' />\item{method}{
<a id='L34' name='L34' />one of \code{"anova"}, \code{"poisson"}, \code{"class"}, \code{"mrt"},
<a id='L35' name='L35' />\code{"dist"}, or \code{"exp"}.
<a id='L36' name='L36' />If \code{method} is missing then the routine tries to make an intellegent guess.
<a id='L37' name='L37' />If \code{y} is a survival object, then \code{method="exp"} is assumed,
<a id='L38' name='L38' />if \code{y} is a matrix then \code{method="mrt"} is assumed,
<a id='L39' name='L39' />if \code{y} is a factor then \code{method="class"} is assumed, otherwise \code{method="anova"}
<a id='L40' name='L40' />is assumed.  It is wisest to specifiy the method directly, especially as
<a id='L41' name='L41' />more criteria are added to the function.
<a id='L42' name='L42' />
<a id='L43' name='L43' />For method=\code{"dist"} the response must be a square symmetric distance matrix; e.g.
<a id='L44' name='L44' />returned by \code{\link[mvpart]{gdist}} or \code{\link[mvpart]{xdiss}}. Weights and
<a id='L45' name='L45' />cross-validation are currently not implemented for method=\code{"dist"}.
<a id='L46' name='L46' />
<a id='L47' name='L47' />Alternatively, \code{method} can be a list of functions named
<a id='L48' name='L48' />\code{init}, \code{split} and \code{eval}.
<a id='L49' name='L49' />}
<a id='L50' name='L50' />\item{dissim}{
<a id='L51' name='L51' />used when method=\code{"anova"} or method=\code{"mrt"}. Dissimilarity types are either
<a id='L52' name='L52' />\code{"euc"} for Euclidean (sums of squares about the mean) or \code{"man"} for Manhattan
<a id='L53' name='L53' />(sums of absolute deviations about the mean. The latter is experimental and has proved useful
<a id='L54' name='L54' />for ecological data.
<a id='L55' name='L55' />}
<a id='L56' name='L56' />\item{model}{
<a id='L57' name='L57' />keep a copy of the model frame in the result.
<a id='L58' name='L58' />If the input value for \code{model} is a model frame (likely from an earlier
<a id='L59' name='L59' />call to the \code{rpart} function), then this frame is used rather than constructing
<a id='L60' name='L60' />new data.
<a id='L61' name='L61' />}
<a id='L62' name='L62' />\item{x}{
<a id='L63' name='L63' />keep a copy of the \code{x} matrix in the result.
<a id='L64' name='L64' />}
<a id='L65' name='L65' />\item{y}{
<a id='L66' name='L66' />keep a copy of the dependent variable in the result.
<a id='L67' name='L67' />}
<a id='L68' name='L68' />\item{parms}{
<a id='L69' name='L69' />optional parameters for the splitting function.
<a id='L70' name='L70' />Anova splitting has no parameters.
<a id='L71' name='L71' />Poisson splitting has a single parameter, the coefficient of variation of
<a id='L72' name='L72' />the prior distribution on the rates.  The default value is 1.
<a id='L73' name='L73' />Exponential splitting has the same parameter as Poisson.
<a id='L74' name='L74' />For classification splitting, the list can contain any of:
<a id='L75' name='L75' />the vector of prior probabilities (component \code{prior}), the loss matrix
<a id='L76' name='L76' />(component \code{loss}) or the splitting index (component \code{split}).  The
<a id='L77' name='L77' />priors must be positive and sum to 1.  The loss matrix must have zeros
<a id='L78' name='L78' />on the diagnoal and positive off-diagonal elements.  The splitting
<a id='L79' name='L79' />index can be \code{gini} or \code{information}.  The default priors are
<a id='L80' name='L80' />proportional to the data counts, the losses default to 1,
<a id='L81' name='L81' />and the split defaults to \code{gini}.
<a id='L82' name='L82' />}
<a id='L83' name='L83' />\item{control}{
<a id='L84' name='L84' />options that control details of the \code{rpart} algorithm.
<a id='L85' name='L85' />}
<a id='L86' name='L86' />\item{cost}{
<a id='L87' name='L87' />a vector of non-negative costs, one for each variable in the
<a id='L88' name='L88' />model. Defaults to one for all variables.  These are scalings to be
<a id='L89' name='L89' />applied when considering splits, so the improvement on splitting on a
<a id='L90' name='L90' />variable is divided by its cost in deciding which split to choose.
<a id='L91' name='L91' />}
<a id='L92' name='L92' />\item{\dots}{
<a id='L93' name='L93' />arguments to \code{rpart.control} may also be specified in the call to
<a id='L94' name='L94' />\code{rpart}.  They are checked against the list of valid arguments.
<a id='L95' name='L95' />}
<a id='L96' name='L96' />}
<a id='L97' name='L97' />\value{
<a id='L98' name='L98' />an object of class \code{rpart}, a superset of class tree.
<a id='L99' name='L99' />}
<a id='L100' name='L100' />\details{
<a id='L101' name='L101' />This differs from the tree function mainly in its handling of surrogate
<a id='L102' name='L102' />variables.  In most details it follows Breiman et. al. quite closely.
<a id='L103' name='L103' />}
<a id='L104' name='L104' />\references{
<a id='L105' name='L105' />Breiman, Friedman, Olshen, and Stone. (1984)
<a id='L106' name='L106' />\emph{Classification and Regression Trees.}
<a id='L107' name='L107' />Wadsworth.
<a id='L108' name='L108' />
<a id='L109' name='L109' />De'ath G. (2002)
<a id='L110' name='L110' />Multivariate Regression Trees : A New Technique for Constrained Classification Analysis.
<a id='L111' name='L111' />Ecology 83(4):1103-1117.
<a id='L112' name='L112' />}
<a id='L113' name='L113' />\seealso{
<a id='L114' name='L114' />  \code{\link{rpart.control}}, \code{\link{rpart.object}},
<a id='L115' name='L115' />  \code{\link{summary.rpart}}, \code{\link{print.rpart}}
<a id='L116' name='L116' />}
<a id='L117' name='L117' />\examples{
<a id='L118' name='L118' />
<a id='L119' name='L119' />data(car.test.frame)
<a id='L120' name='L120' />z.auto &lt;- rpart(Mileage ~ Weight, car.test.frame)
<a id='L121' name='L121' />summary(z.auto)
<a id='L122' name='L122' />plot(z.auto); text(z.auto)
<a id='L123' name='L123' />
<a id='L124' name='L124' />data(spider)
<a id='L125' name='L125' />fit1 &lt;- rpart(data.matrix(spider[,1:12])~water+twigs+reft+herbs+
<a id='L126' name='L126' />moss+sand,spider,method="mrt")
<a id='L127' name='L127' />plot(fit1); text(fit1)
<a id='L128' name='L128' />fit2 &lt;- rpart(data.matrix(spider[,1:12])~water+twigs+reft+herbs+
<a id='L129' name='L129' />moss+sand,spider,method="mrt",dissim="man")
<a id='L130' name='L130' />plot(fit2); text(fit2)
<a id='L131' name='L131' />fit3 &lt;- rpart(gdist(spider[,1:12],meth="bray",full=TRUE,sq=TRUE)
<a id='L132' name='L132' />~water+twigs+reft+herbs+moss+sand,spider,method="dist")
<a id='L133' name='L133' />plot(fit3); text(fit3)
<a id='L134' name='L134' />}
<a id='L135' name='L135' />\keyword{tree}
</pre>
<hr />
<a id='BOTTOM' name='BOTTOM' />
<em class='comment'>/* <img class='icon' src='../icons/n_left.png' alt='[previous]' /><img class='icon' src='../icons/n_right.png' alt='[next]' /><img class='icon' src='../icons/n_first.png' alt='[first]' /><img class='icon' src='../icons/n_last.png' alt='[last]' /><a href='#TOP'><img class='icon' src='../icons/top.png' alt='[top]' /></a><img class='icon' src='../icons/n_bottom.png' alt='[bottom]' /><a href='../mains.html'><img class='icon' src='../icons/index.png' alt='[index]' /></a><a href='../help.html'><img class='icon' src='../icons/help.png' alt='[help]' /></a>&nbsp;<em class='position'>[+135 man/rpart.Rd]</em> */</em>
</body>
</html>
